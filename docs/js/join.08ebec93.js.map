{"version":3,"sources":["webpack:///./src/components/join/index.vue?033a","webpack:///./src/components/join/index.vue?2e47","webpack:///src/components/join/index.vue","webpack:///./src/components/join/index.vue?63ca","webpack:///./src/components/join/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","attrs","staticClass","on","$event","handleSwipeup","handleSwipedown","image_introduce","join","_l","image","index","key","image_join","_m","staticRenderFns","staticStyle","data","loading","timeout","timer","undefined","imageList","joinLink","mounted","document","setInterval","readyState","window","clearInterval","methods","length","clearTimeout","setTimeout","location","href","component"],"mappings":"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","file":"js/join.08ebec93.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=01eea556&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=01eea556&lang=stylus&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"id\":\"main\"}},[_c('v-touch',{staticClass:\"wrapper\",attrs:{\"id\":\"image0\"},on:{\"swipeup\":function($event){return _vm.handleSwipeup(0)},\"swipedown\":function($event){return _vm.handleSwipedown(0)}}},[_c('el-image',{staticClass:\"image\",attrs:{\"src\":_vm.image_introduce[0]}}),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.join}})],1),_c('v-touch',{staticClass:\"wrapper\",attrs:{\"id\":\"image1\"},on:{\"swipeup\":function($event){return _vm.handleSwipeup(1)},\"swipedown\":function($event){return _vm.handleSwipedown(1)}}},[_c('el-image',{staticClass:\"image\",attrs:{\"src\":_vm.image_introduce[1]}})],1),_vm._l((_vm.imageList),function(image,index){return _c('v-touch',{key:index + 2,staticClass:\"wrapper\",attrs:{\"id\":'image' + (index + 2)},on:{\"swipeup\":function($event){return _vm.handleSwipeup(index + 2)},\"swipedown\":function($event){return _vm.handleSwipedown(index + 2)}}},[_c('el-image',{staticClass:\"image\",attrs:{\"src\":image}}),_c('el-image',{staticClass:\"join-button\",attrs:{\"src\":_vm.image_join},on:{\"click\":_vm.join}})],1)}),_vm._m(0)],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"icon-group\"}},[_c('i',{staticClass:\"el-icon-arrow-down\"}),_c('i',{staticClass:\"el-icon-arrow-down\",staticStyle:{\"top\":\"45%\"}})])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div v-loading=\"loading\" id=\"main\">\r\n    <!-- 将团队部分和部门介绍部分分开是为了只给部门介绍添加立即加入按钮 -->\r\n    <!-- 团队介绍部分 -->\r\n    <v-touch\r\n      id=\"image0\"\r\n      class=\"wrapper\"\r\n      @swipeup=\"handleSwipeup(0)\"\r\n      @swipedown=\"handleSwipedown(0)\"\r\n    >\r\n      <el-image :src=\"image_introduce[0]\" class=\"image\"></el-image>\r\n      <el-button type=\"primary\" @click=\"join\"></el-button>\r\n    </v-touch>\r\n    <v-touch\r\n      id=\"image1\"\r\n      class=\"wrapper\"\r\n      @swipeup=\"handleSwipeup(1)\"\r\n      @swipedown=\"handleSwipedown(1)\"\r\n    >\r\n      <el-image :src=\"image_introduce[1]\" class=\"image\"></el-image>\r\n    </v-touch>\r\n    <!-- 部门介绍部分 -->\r\n    <v-touch\r\n      v-for=\"(image, index) in imageList\"\r\n      :id=\"'image' + (index + 2)\"\r\n      class=\"wrapper\"\r\n      :key=\"index + 2\"\r\n      @swipeup=\"handleSwipeup(index + 2)\"\r\n      @swipedown=\"handleSwipedown(index + 2)\"\r\n    >\r\n      <el-image :src=\"image\" class=\"image\"></el-image>\r\n      <el-image class=\"join-button\" :src=\"image_join\" @click=\"join\"></el-image>\r\n    </v-touch>\r\n    <div id=\"icon-group\">\r\n      <i class=\"el-icon-arrow-down\"></i>\r\n      <i class=\"el-icon-arrow-down\" style=\"top: 45%;\"></i>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      // 用于定时下拉箭头提示\r\n      timeout: null,\r\n      // 用于判断页面是否加载完成\r\n      timer: null,\r\n      image_introduce: [],\r\n      image_join: undefined,\r\n      imageList: [],\r\n      joinLink: undefined,\r\n    };\r\n  },\r\n  async created() {\r\n    // 如果使用电脑端打开则使网页以移动端的表现形式显示,以避免图片适配问题\r\n    let width = screen.width;\r\n    if (width >= 750) {\r\n      document\r\n        .querySelector(\"body\")\r\n        .setAttribute(\"style\", \"margin: auto; max-width: 375px;\");\r\n    }\r\n    const resp = await fetch(\r\n      \"https://cdn.jsdelivr.net/gh/JieamI/UniCC@main/namespaces/uni-join/index.json\"\r\n    );\r\n    const {\r\n      assets: { header, joinBtn, posters, timeline },\r\n      joinLink,\r\n    } = await resp.json();\r\n    this.image_introduce = [header, timeline];\r\n    this.imageList = posters;\r\n    this.image_join = joinBtn;\r\n    this.joinLink = joinLink;\r\n  },\r\n  mounted() {\r\n    document\r\n      .querySelector(\"#main\")\r\n      .setAttribute(\"style\", \"overflow: hidden; height: 100vh;\");\r\n    // 判断页面是否加载完成\r\n    this.timer = setInterval(() => {\r\n      if (document.readyState === \"complete\") {\r\n        document\r\n          .querySelector(\"#main\")\r\n          .setAttribute(\"style\", \"overflow: auto; height: auto\");\r\n        this.loading = false;\r\n        window.clearInterval(this.timer);\r\n      }\r\n    }, 1000);\r\n  },\r\n  methods: {\r\n    handleSwipeup(index) {\r\n      if (index === this.imageList.length + 1) {\r\n        return;\r\n      }\r\n      // 重置定时器,避免当用户在某个页面停留时间不足5s就下滑导致下个页面的下滑箭头提示显示时间不足5s\r\n      if (this.timeout) {\r\n        clearTimeout(this.timeout);\r\n      }\r\n      document\r\n        .querySelector(\"#icon-group\")\r\n        .setAttribute(\"style\", \"display: block;\");\r\n      if (index === this.imageList.length) {\r\n        document\r\n          .querySelector(\"#icon-group\")\r\n          .setAttribute(\"style\", \"display: none;\");\r\n      }\r\n      this.timeout = setTimeout(() => {\r\n        document\r\n          .querySelector(\"#icon-group\")\r\n          .setAttribute(\"style\", \"display: none;\");\r\n      }, 5000);\r\n      document\r\n        .querySelector(\"#image\" + (index + 1))\r\n        .scrollIntoView({ behavior: \"smooth\" });\r\n    },\r\n    handleSwipedown(index) {\r\n      if (index === 0) {\r\n        return;\r\n      }\r\n      document\r\n        .querySelector(\"#image\" + (index - 1))\r\n        .scrollIntoView({ behavior: \"smooth\" });\r\n    },\r\n    join() {\r\n      if (this.joinLink) {\r\n        window.location.href = this.joinLink;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n.wrapper\r\n\tperspective 1px\r\n\t.image\r\n\t\tmargin 6px\r\n\t\tbox-shadow: 0 2px 12px 2px slategray\r\n\t.el-button\r\n\t\topacity 0\r\n\t\tposition absolute\r\n\t\tbottom 12%\r\n\t\twidth 180px\r\n\t\theight 60px\r\n\t\tleft 0\r\n\t\tright 0\r\n\t\tmargin auto\r\n\t.join-button\r\n\t\tposition absolute\r\n\t\tbottom 1%\r\n\t\tleft 0\r\n\t\tright 0\r\n\t\tmargin auto\r\n\t\ttransform scale(0.4)\r\n\t\tanimation button-animation 2s infinite\r\n\t\t@keyframes button-animation\r\n\t\t\t0%\r\n\t\t\t\ttransform scale(0.4)\r\n\t\t\t50%\r\n\t\t\t\ttransform scale(0.45)\r\n\t\t\t100%\r\n\t\t\t\ttransform scale(0.4)\r\n.el-icon-arrow-down\r\n\tposition fixed\r\n\ttop 47%\r\n\tleft 0\r\n\tright 0\r\n\tfont-size 36px\r\n\tcolor lightgrey\r\n\tmargin auto\r\n\twidth 36px\r\n\tanimation arrow-animation 1.5s infinite\r\n@keyframes arrow-animation\r\n\t0%\r\n\t\ttransform scale(1)\r\n\t\topacity 0.4\r\n\t50%\r\n\t\ttransform scale(1.2)\r\n\t\topacity 1\r\n\t100%\r\n\t\ttransform scale(1)\r\n\t\topacity 0.4\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=01eea556&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=01eea556&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"01eea556\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}